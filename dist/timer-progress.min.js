function TimerProgress(a,b=0,c=!0,e=!0){const f=a['width-container']||300,g=a['height-container']||300;this.container=new SVGElement(a.container,{width:f+'px',height:g+'px',style:'background-color: '+(a['color-container']||'inherit')}),this.strokeWidth=a['stroke-width'],this.circle=new SVGElement('circle',{fill:'none',stroke:a['color-circle']||'lightgray'}),this.container.appendChild(this.circle),this.path=new SVGElement('path',{fill:'none',stroke:a['color-path']||'black',d:''}),this.container.appendChild(this.path);var h=!!document.documentMode,i=!h&&!!window.StyleMedia;this.fontSize=a['font-size']||0,this.colorText=a['color-text']||'black',this.text=new SVGElement('text',{fill:this.colorText,'text-anchor':'middle','alignment-baseline':'middle','dominant-baseline':'middle',dy:(i?0.6:0)+'ex','font-family':a['font-family']||'sans-serif'}),this.container.appendChild(this.text),this.colorAlert=a['color-alert']||'red',this.nDecimals=b;const j=f>g?g:f;this.cx=f/2,this.cy=g/2,this.r=0.85*(j/2),this.circle.set('cx',this.cx),this.circle.set('cy',this.cy),this.circle.set('r',this.r),this.circle.set('stroke-width',this.strokeWidth||j/10),this.path.set('stroke-width',(this.strokeWidth||j/10)+1),this.text.set('font-size',(0<this.fontSize?this.fontSize:j/6)+'px'),this.text.set('x',f/2),this.text.set('y',g/2),e||(this.circle.set('visibility','hidden'),this.path.set('visibility','hidden')),c?this.text.element().textContent=100:this.text.set('visibility','hidden'),this.running=!1}TimerProgress.prototype.polarToCartesian=function(a,b,c,e){const f=(e-90)*Math.PI/180;return{x:a+c*Math.cos(f),y:b+c*Math.sin(f)}},TimerProgress.prototype.describeArc=function(a,b,c,e,f){const g=this.polarToCartesian(a,b,c,f),h=this.polarToCartesian(a,b,c,e),i=180>=f-e?'0':'1';return['M',g.x,g.y,'A',c,c,0,i,0,h.x,h.y].join(' ')},TimerProgress.prototype.secondsLeft=function(a,b){return a*(b/360)/1e3},TimerProgress.prototype.formatTime=function(a,b){return a.toFixed(b)},TimerProgress.prototype.frame=function(a){if(0===a.degrees)a.infinite?a.degrees=360:(clearInterval(a.id),a.running=!1);else{a.degrees--;let c=0;c=a.infinite?a.describeArc(a.cx,a.cy,a.r,a.degrees-75,a.degrees):a.describeArc(a.cx,a.cy,a.r,a.degrees,360),a.path.set('d',c)}const b=a.secondsLeft(a.time,a.degrees);a.text.element().textContent=a.formatTime(b,a.nDecimals),0<a.alertTime&&b<a.alertTime&&a.text.set('fill',a.colorAlert)},TimerProgress.prototype.run=function(a,b=0){this.infinite='inf'===a,this.infinite&&this.text.set('visibility','hidden'),this.text.set('fill',this.colorText),this.alertTime=b/1e3,this.time=this.infinite?3e3:a,this.degrees=360,this.speed=this.time/this.degrees,this.running=!0,this.id=setInterval(this.frame,this.speed,this)},TimerProgress.prototype.isRunning=function(){return this.running},TimerProgress.prototype.pause=function(){this.running=!1,clearInterval(this.id)},TimerProgress.prototype.isPaused=function(){return!this.running},TimerProgress.prototype.resume=function(){this.running=!0,this.id=setInterval(this.frame,this.speed,this)};function SVGElement(a,b){'string'==typeof a?this.create(a):'object'==typeof a&&this.wrap(a),this.setBulk(b||null)}SVGElement.prototype.create=function(a){this.elem=document.createElementNS('http://www.w3.org/2000/svg',a)},SVGElement.prototype.wrap=function(a){this.elem=a},SVGElement.prototype.get=function(a){return this.elem.getAttributeNS(null,a)},SVGElement.prototype.set=function(a,b){this.elem.setAttributeNS(null,a,b)},SVGElement.prototype.setBulk=function(a){if(null!==a)for(let b in a)a.hasOwnProperty(b)&&this.set(b,a[b])},SVGElement.prototype.addClass=function(a){this.elem.classList.add(a)},SVGElement.prototype.removeClass=function(a){this.elem.classList.remove(a)},SVGElement.prototype.addEventListener=function(a,b){this.elem.addEventListener(a,b)},SVGElement.prototype.removeEventListener=function(a,b){this.elem.removeEventListener(a,b)},SVGElement.prototype.appendChild=function(a){this.elem.appendChild(a.element())},SVGElement.prototype.removeChild=function(a){this.elem.removeChild(a.element())},SVGElement.prototype.element=function(){return this.elem};
